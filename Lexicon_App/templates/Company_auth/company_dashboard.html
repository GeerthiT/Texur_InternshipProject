{% extends "base.html" %} {% load static %} {% block content %}
<style>
  .head1 {
    text-align: center;
  }

  .form1 {
    margin-left: 500px;
  }

  .but {
    margin-bottom: 20px;
  }

  body {
    background-color: rgb(235, 244, 251);
  }

  .btn-primary {
    width: 150px;
    margin-left: 20px;
  }
</style>

<h1 class="head1">Company Dashboard</h1>
<br />
<div class="shadow p-4 mb-5 bg-body rounded">
  <!-- Company Information -->
  <div style="display: flex; align-items: center">
    <!-- Logo or Image -->
    <div class="picture">
      {% if company.logo %}
      <img
        src="{{ company.logo.url }}"
        alt="Company Logo"
        style="width: 150px; height: 150px; border-radius: 50%"
      />
      {% else %}
      <p>No logo uploaded.</p>
      {% endif %}
    </div>

    <!-- Spacer -->
    <div style="flex-grow: 1"></div>

    <!-- Edit and Delete Buttons -->
    <div class="but" style="display: flex">
      <!-- Update company -->
      {% if company.email %}
      <form action="{% url 'update_company' company.email %}" method="get">
        <button class="btn btn-block btn-info custom-width" type="submit">
          <b>Edit Company</b>
        </button>
      </form>
      <div style="margin-right: 10px"></div>

      <!-- Delete company -->
      <form action="{% url 'delete_company' company.email %}" method="post">
        {% csrf_token %}
        <button class="btn btn-block btn-warning custom-width" type="submit">
          <b>Delete Company</b>
        </button>
      </form>
      {% endif %}
    </div>
  </div>
  <br />
  <br />

  <!-- Form for Company Information -->
  <div class="form1">
    {% if company %}
    <p><strong>Name:</strong> {{ company.name }}</p>
    <p><strong>Email:</strong> {{ company.email }}</p>
    <p><strong>Website:</strong> {{ company.Website }}</p>
    <p><strong>See All Internship Posts:</strong> [Link to Internship Posts]</p>
    <form action="{% url 'add_internship_post' %}" method="get">
      <button class="btn btn-block btn-success custom-width" type="submit">
        <b>Add New Internship Post</b>
      </button>
    </form>
    <!-- Add more fields for company information as needed -->
    {% else %}
    <p>No company information found.</p>
    {% endif %}
  </div>

  <!-- List of Internship Posts -->
  <h2>Internship Posts</h2>
  <div>
    <!-- Loop through internship posts -->
    {% for post in internship_posts %}
    <div>
      <h3>{{ post.title }}</h3>
      <p><strong>Description:</strong> {{ post.description }}</p>
      <p><strong>Location:</strong> {{ post.location }}</p>
      <p><strong>Duration:</strong> {{ post.duration }}</p>
      <!-- Add more fields for internship post information as needed -->
      <form action="{% url 'update_internship_post' post.id %}" method="get">
        <button class="btn btn-info custom-width" type="submit">
          <b>Edit Post</b>
        </button>
      </form>
      <form action="{% url 'delete_internship_post' post.id %}" method="post">
        {% csrf_token %}
        <button class="btn btn-warning custom-width" type="submit">
          <b>Delete Post</b>
        </button>
      </form>
    </div>
    <br />
    {% empty %}
    <p>No internship posts available.</p>
    {% endfor %}
  </div>
</div>

{% endblock %}
